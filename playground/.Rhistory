treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
num.trees = 100
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
num.trees = 100
)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
# num.trees = 100,
# average_treatment_effect arguments
# target.sample = "overlap",
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
# num.trees = 100,
# average_treatment_effect arguments
# target.sample = "overlap",
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
num.trees = 100,
# average_treatment_effect arguments
# target.sample = "overlap",
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
num.trees = 100,
# average_treatment_effect arguments
target.sample = "overlap",
)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest arguments
num.trees = 100,
# average_treatment_effect arguments
target.sample = "overlap",
)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
?average_treatment_effect
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
# Development testing script
library(devtools)
load_all()
# Load data
data(welfare_small)
data <- welfare_small
# Treatment: does the the gov't spend too much on "welfare" (1) or "assistance to the poor" (0)
treatment <- "w"
# Outcome: 1 for 'yes', 0 for 'no'
outcome <- "y"
# Additional covariates
covariates <- c("age", "polviews", "income", "educ", "marital", "sex")
# in a real context...
data_real <- data
# defining the group that will be dropped with some high probability
grp <- ((data_real$w == 1) &  # if treated AND...
(
(data_real$age > 45) |     # belongs an older group OR
(data_real$polviews < 5)   # more conservative
)) | # OR
((data_real$w == 0) &  # if untreated AND...
(
(data_real$age < 45) |     # belongs a younger group OR
(data_real$polviews > 4)   # more liberal
))
# Individuals in the group above have a smaller chance of being kept in the sample
prob.keep <- ifelse(grp, .15, .85)
keep.idx <- as.logical(rbinom(n=nrow(data_real), prob=prob.keep, size = 1))
# Dropping
data_real <- data_real[keep.idx,]
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE
)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
target.sample = "overlap"
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest() arguments
num.trees = 50,
# average_treatment_effect() arguments
target.sample = "overlap"
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE,
# causal_forest() arguments
num.trees = 2000,
# average_treatment_effect() arguments
target.sample = "overlap"
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'linear',
output = TRUE
# # causal_forest() arguments
# num.trees = 2000,
# # average_treatment_effect() arguments
# target.sample = "overlap"
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'splines',
output = TRUE,
# causal_forest() arguments
num.trees = 2000,
# average_treatment_effect() arguments
target.sample = "overlap"
)
results <- ipw_estimators(
data = data_real,
estimation_method = 'AIPW',
outcome = outcome,
treatment = treatment,
covariates = covariates,
model_specification = 'splines',
output = TRUE,
# causal_forest() arguments
num.trees = 100,
# average_treatment_effect() arguments
target.sample = "overlap"
)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
library(usethis)
usethis::use_git_ignore("articles")
usethis::use_git_ignore("articles/*.Rmd")
# Per .Rbuildignore
usethis::use_build_ignore("articles")
usethis::use_build_ignore("articles/.*")
usethis::use_directory("articles")
devtools::clean_dll()
unlink("NAMESPACE")
devtools::document()
devtools::check()
devtools::clean_dll()
unlink("NAMESPACE")
devtools::document()
source("C:/Users/vcaminic/Desktop/github/causalwiz/inst/script/dev-test.R", echo=TRUE)
setwd("C:/Users/vcaminic/Desktop/github/causalwiz")
install.packages("languageserver")
devtools::clean_dll()
unlink("NAMESPACE")
devtools::document()
devtools::check()
setwd("C:/Users/vcaminic/Desktop/github/r-notes/casual-inference-fchap")
remove.packages("causalwiz")
setwd("C:/Users/vcaminic/Desktop/github/r-notes/casual-inference-fchap")
pak::pak("carminemnc/causalwiz")
setwd("C:/Users/vcaminic/Desktop/github/r-notes/playground")
library(hexSticker)
# Versione 2 - Con più controlli
sticker(
subplot = "nebula_red.png",
package = "datasage",
p_size = 20,
p_color = "#D3D3D3", # text color
s_x = 1,
s_y = 1,
s_width = 1,
s_height = 1,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
library(hexSticker)
# Versione 2 - Con più controlli
sticker(
subplot = "nebula_red.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 1,
s_height = 1,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 1,
s_height = 1,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 1,
s_height = 1,
h_size = 0.7,
# h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.4,
s_height = 0.4,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.7,
s_height = 0.7,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.6,
s_height = 0.6,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Approccio 1: Più conservativo
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white",
s_x = 1,
s_y = 1,
s_width = 1.2,    # Leggermente più grande di 1
s_height = 1.2,   # Leggermente più grande di 1
h_size = 0.7,
h_fill = "#000000",
h_color = "#D3D3D3",
white_around_sticker = TRUE,  # Importante per mascherare ciò che esce dall'esagono
filename = "logo.png",
dpi = 600
)
# Approccio 1: Più conservativo
sticker(
subplot = "land_background.png",
package = "datasage",
p_size = 20,
p_color = "white",
s_x = 1,
s_y = 1,
s_width = 1.2,    # Leggermente più grande di 1
s_height = 1.2,   # Leggermente più grande di 1
h_size = 0.7,
h_fill = "#000000",
h_color = "#D3D3D3",
# white_around_sticker = TRUE,  # Importante per mascherare ciò che esce dall'esagono
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "neb.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.6,
s_height = 0.6,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "neb.png",
package = "datasage",
p_size = 20,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.7,
s_height = 0.7,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "neb.png",
package = "datasage",
p_size = 25,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.7,
s_height = 0.7,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "neb.png",
package = "datasage",
p_size = 30,
p_color = "white", # text color
s_x = 1,
s_y = 1,
s_width = 0.7,
s_height = 0.7,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
# Versione 2 - Con più controlli
sticker(
subplot = "neb.png",
package = "datasage",
p_size = 40,
p_color = "#D3D3D3", # text color
s_x = 1,
s_y = 1,
s_width = 0.7,
s_height = 0.7,
h_size = 0.7,
h_fill = "#000000", # background
h_color = "#D3D3D3", # border
filename = "logo.png",
dpi = 600
)
